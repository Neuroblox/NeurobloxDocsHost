<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · Neuroblox</title><meta name="title" content="Getting Started · Neuroblox"/><meta property="og:title" content="Getting Started · Neuroblox"/><meta property="twitter:title" content="Getting Started · Neuroblox"/><meta name="description" content="Documentation for Neuroblox."/><meta property="og:description" content="Documentation for Neuroblox."/><meta property="twitter:description" content="Documentation for Neuroblox."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Neuroblox logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Neuroblox</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Neuroblox</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#The-Wilson-Cowan-Model"><span>The Wilson-Cowan Model</span></a></li><li><a class="tocitem" href="#Building-the-Circuit"><span>Building the Circuit</span></a></li><li><a class="tocitem" href="#Creating-the-Model"><span>Creating the Model</span></a></li><li><a class="tocitem" href="#Simulating-the-Model"><span>Simulating the Model</span></a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/resting_state/">Resting state simulation using neural mass models</a></li><li><a class="tocitem" href="../tutorials/parkinsons/">Building a model of Parkinson&#39;s disease using Neural Mass models</a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../release_notes/">Release Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Neuroblox/Neuroblox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Neuroblox/Neuroblox.jl/blob/master/docs/src/getting_started.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started-with-Neuroblox"><a class="docs-heading-anchor" href="#Getting-Started-with-Neuroblox">Getting Started with Neuroblox</a><a id="Getting-Started-with-Neuroblox-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started-with-Neuroblox" title="Permalink"></a></h1><p>This tutorial will introduce you to simulating brain dynamics using Neuroblox. In this example, we&#39;ll create a simple oscillating circuit using two Wilson-Cowan neural mass models [1]. The Wilson-Cowan model is one of the most influential models in computational neuroscience [2], describing the dynamics of interactions between populations of excitatory and inhibitory neurons.</p><h2 id="The-Wilson-Cowan-Model"><a class="docs-heading-anchor" href="#The-Wilson-Cowan-Model">The Wilson-Cowan Model</a><a id="The-Wilson-Cowan-Model-1"></a><a class="docs-heading-anchor-permalink" href="#The-Wilson-Cowan-Model" title="Permalink"></a></h2><p>Each Wilson-Cowan neural mass is described by the following equations:</p><p class="math-container">\[\begin{align}
\nonumber
\frac{dE}{dt} &amp;= \frac{-E}{\tau_E} + S_E(c_{EE}E - c_{IE}I + \eta\textstyle\sum{jcn})\\[10pt]
\nonumber
\frac{dI}{dt} &amp;= \frac{-I}{\tau_I} + S_I\left(c_{EI}E - c_{II}I\right)
\end{align}\]</p><p>where <span>$E$</span> and <span>$I$</span> denote the activity levels of the excitatory and inhibitory populations, respectively. The terms <span>$\frac{dE}{dt}$</span> and <span>$\frac{dI}{dt}$</span> describe the rate of change of these activity levels over time. The parameters <span>$\tau_E$</span> and <span>$\tau_I$</span> are time constants analogous to membrane time constants in single neuron models, determining how quickly the excitatory and inhibitory populations respond to changes. The coefficients <span>$c_{EE}$</span> and <span>$c_{II}$</span> represent self-interaction (or feedback) within excitatory and inhibitory populations, while <span>$c_{IE}$</span> and <span>$c_{EI}$</span> represent the cross-interactions between the two populations. The term <span>$\eta\sum{jcn}$</span> represents external input to the excitatory population from other brain regions or external stimuli, with <span>$\eta$</span> acting as a scaling factor. While <span>$S_E$</span> and <span>$S_I$</span> are sigmoid functions that represent the responses of neuronal populations to input stimuli, defined as:</p><p class="math-container">\[S_k(x) = \frac{1}{1 + exp(-a_kx - \theta_k)}\]</p><p>where <span>$a_k$</span> and <span>$\theta_k$</span> determine the steepness and threshold of the response, respectively.</p><h2 id="Building-the-Circuit"><a class="docs-heading-anchor" href="#Building-the-Circuit">Building the Circuit</a><a id="Building-the-Circuit-1"></a><a class="docs-heading-anchor-permalink" href="#Building-the-Circuit" title="Permalink"></a></h2><p>Let&#39;s create an oscillating circuit by connecting two Wilson-Cowan neural masses:</p><pre><code class="language-julia hljs">using Neuroblox
using DifferentialEquations
using Graphs
using MetaGraphs

# Create two Wilson-Cowan blox
@named WC1 = WilsonCowan()
@named WC2 = WilsonCowan()

# Create a graph to represent our circuit
g = MetaDiGraph()
add_blox!.(Ref(g), [WC1, WC2])

# Define the connectivity between the neural masses
adj = [-1 7; 4 -1]
create_adjacency_edges!(g, adj)</code></pre><p>Here, we&#39;ve created two Wilson-Cowan Blox and connected them as nodes in a directed graph. The <code>adj</code> matrix defines the weighted edges between these nodes. Each entry <code>adj[i,j]</code> represents how the output of blox <code>j</code> influences the input of blox <code>i</code>:</p><ul><li>Diagonal elements (<code>adj[1,1]</code> and <code>adj[2,2]</code>): Self-connections, adding feedback to each blox.</li><li>Off-diagonal elements (<code>adj[1,2]</code> and <code>adj[2,1]</code>): Inter-blox connections, determining how each blox influences the other.</li></ul><p>By default, the output of each Wilson-Cowan blox is its excitatory activity (E). The negative self-connections (-1) provide inhibitory feedback, while the positive inter-blox connections (6) provide strong excitatory coupling. This setup creates an oscillatory dynamic between the two Wilson-Cowan units.</p><h2 id="Creating-the-Model"><a class="docs-heading-anchor" href="#Creating-the-Model">Creating the Model</a><a id="Creating-the-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-the-Model" title="Permalink"></a></h2><p>Now, let&#39;s build the complete model:</p><pre><code class="language-julia hljs">@named sys = system_from_graph(g)</code></pre><p class="math-container">\[ \begin{align}
\frac{\mathrm{d} WC1_{+}E\left( t \right)}{\mathrm{d}t} &amp;= \frac{ - WC1_{+}E\left( t \right)}{WC1_+\tau_{E}} + \frac{1}{1 + e^{ - WC1_{+}a_{E} \left(  - WC1_+\theta_{E} + WC1_{+}c_{EE} WC1_{+}E\left( t \right) - WC1_{+}c_{IE} WC1_{+}I\left( t \right) + WC1_+\eta WC1_{+}jcn\left( t \right) \right)}} \\
\frac{\mathrm{d} WC1_{+}I\left( t \right)}{\mathrm{d}t} &amp;= \frac{ - WC1_{+}I\left( t \right)}{WC1_+\tau_{I}} + \frac{1}{1 + e^{WC1_{+}a_{I} \left( WC1_+\theta_{I} - WC1_{+}c_{EI} WC1_{+}E\left( t \right) + WC1_{+}c_{II} WC1_{+}I\left( t \right) \right)}} \\
\frac{\mathrm{d} WC2_{+}E\left( t \right)}{\mathrm{d}t} &amp;= \frac{1}{1 + e^{WC2_{+}a_{E} \left( WC2_+\theta_{E} - WC2_{+}c_{EE} WC2_{+}E\left( t \right) + WC2_{+}c_{IE} WC2_{+}I\left( t \right) - WC2_+\eta WC2_{+}jcn\left( t \right) \right)}} + \frac{ - WC2_{+}E\left( t \right)}{WC2_+\tau_{E}} \\
\frac{\mathrm{d} WC2_{+}I\left( t \right)}{\mathrm{d}t} &amp;= \frac{ - WC2_{+}I\left( t \right)}{WC2_+\tau_{I}} + \frac{1}{1 + e^{WC2_{+}a_{I} \left( WC2_+\theta_{I} - WC2_{+}c_{EI} WC2_{+}E\left( t \right) + WC2_{+}c_{II} WC2_{+}I\left( t \right) \right)}}
\end{align}
 \]</p><p>This creates a differential equations system from our graph representation using ModelingToolkit and symbolically simplifies it for efficient computation.</p><h2 id="Simulating-the-Model"><a class="docs-heading-anchor" href="#Simulating-the-Model">Simulating the Model</a><a id="Simulating-the-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Simulating-the-Model" title="Permalink"></a></h2><p>Finally, let&#39;s simulate our model. The following code creates and solves an <code>ODEProblem</code> for our system, simulating 100 time units of activity. In Neuroblox, the default time unit is milliseconds. We use <code>Rodas4</code>, a solver efficient for stiff problems. The solution is saved every 0.1 ms, allowing us to observe the detailed evolution of the system&#39;s behavior.</p><pre><code class="language-julia hljs">prob = ODEProblem(sys, [], (0.0, 100), [])
sol = solve(prob, Rodas4(), saveat=0.1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
Interpolation: 1st order linear
t: 1001-element Vector{Float64}:
   0.0
   0.1
   0.2
   0.3
   0.4
   0.5
   0.6
   0.7
   0.8
   0.9
   ⋮
  99.2
  99.3
  99.4
  99.5
  99.6
  99.7
  99.8
  99.9
 100.0
u: 1001-element Vector{Vector{Float64}}:
 [1.0, 1.0, 1.0, 1.0]
 [0.949325763556704, 0.9999972275493642, 0.9968352574059597, 0.999998361407238]
 [0.8972980729625414, 0.9999897131895403, 0.9922642579101326, 0.9999967482029593]
 [0.8440391811254516, 0.999968172326061, 0.9854388758936965, 0.9999950763076972]
 [0.7898349351175413, 0.9999082303982423, 0.9750726533317169, 0.9999931987811799]
 [0.7351468545606799, 0.9997317040505838, 0.9591819783643024, 0.9999908111737833]
 [0.6805567621179917, 0.9991470438995514, 0.9353051118430262, 0.9999870244685964]
 [0.6267161118972019, 0.9976995169546413, 0.9005839696081576, 0.9999806570871376]
 [0.5745445542606127, 0.9931773366450882, 0.8545965250635106, 0.999963704852591]
 [0.5248014014419827, 0.9822251892336896, 0.7986897070010573, 0.9999118449159944]
 ⋮
 [0.2827951837976614, 0.23241952859520773, 0.3170636168184031, 0.34718384466983115]
 [0.27817794406352114, 0.2232837135397916, 0.3127979249873201, 0.3332261045439758]
 [0.27448088514708935, 0.2143054001426585, 0.3098099242833093, 0.31991542182651556]
 [0.2718187846684288, 0.20567350873813078, 0.3082072863965651, 0.30756838667310105]
 [0.27027557844827965, 0.19759133788934483, 0.3080567596745964, 0.2965051676618344]
 [0.2698099047162798, 0.19023716639767463, 0.3092832691565165, 0.2869262013220514]
 [0.27050297509449794, 0.18373150768649255, 0.3119234632896127, 0.2790718640842631]
 [0.2723876529251488, 0.17825467309214857, 0.3159222630418153, 0.27326609283492115]
 [0.27549680155044676, 0.17398697395099608, 0.32122458938105297, 0.26983282446048074]</code></pre><p><a href="https://www.sciencedirect.com/science/article/pii/S0006349572860685">[1] Wilson, H. R., &amp; Cowan, J. D. (1972). Excitatory and inhibitory interactions in localized populations of model neurons. Biophysical journal, 12(1), 1-24.</a></p><p><a href="https://link.springer.com/article/10.1007/s00422-009-0328-3">[2] Destexhe, A., &amp; Sejnowski, T. J. (2009). The Wilson–Cowan model, 36 years later. Biological cybernetics, 101(1), 1-2.</a></p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Neuroblox</a><a class="docs-footer-nextpage" href="../tutorials/resting_state/">Resting state simulation using neural mass models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 1 October 2024 07:03">Tuesday 1 October 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
