<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · Neuroblox</title><meta name="title" content="Getting Started · Neuroblox"/><meta property="og:title" content="Getting Started · Neuroblox"/><meta property="twitter:title" content="Getting Started · Neuroblox"/><meta name="description" content="Documentation for Neuroblox."/><meta property="og:description" content="Documentation for Neuroblox."/><meta property="twitter:description" content="Documentation for Neuroblox."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Neuroblox logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Neuroblox</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Neuroblox</a></li><li><a class="tocitem" href="../install/">How to install</a></li><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Getting-Started-with-Julia"><span>Getting Started with Julia</span></a></li><li><a class="tocitem" href="#getting_started_julia"><span>Getting Started with Neuroblox</span></a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/resting_state/">Resting state simulation using neural mass models</a></li><li><a class="tocitem" href="../tutorials/ping_network/">Pyramidal-Interneuron Gamma network</a></li><li><a class="tocitem" href="../tutorials/parkinsons/">Building a model of the Basal Ganglia using Neural Mass models</a></li><li><a class="tocitem" href="../tutorials/basal_ganglia/">Basal Ganglia Model and Parkinson&#39;s Disease Simulation</a></li><li><a class="tocitem" href="../tutorials/neural_assembly/">Bottom-up construction of a neural assembly</a></li><li><a class="tocitem" href="../tutorials/spectralDCM/">Solving Inverse Problems with Spectral Dynamic Causal Modeling</a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../release_notes/">Release Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Neuroblox/Neuroblox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Neuroblox/Neuroblox.jl/blob/master/docs/src/getting_started.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h1><h2 id="Getting-Started-with-Julia"><a class="docs-heading-anchor" href="#Getting-Started-with-Julia">Getting Started with Julia</a><a id="Getting-Started-with-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started-with-Julia" title="Permalink"></a></h2><p>Here we would like to summarize some resources for people that are interested in learning more about the Julia language before or while exploring Neuroblox. Please follow the links below for introductory material on the language that is inclusive to all users; people familiar with programming or not, people with a mathematics, engineering, or science background :</p><ul><li><a href="https://youtu.be/7hVV5uoEo-0?si=JdMSCh3R4w2cl5uT">Introduction to Julia</a> by Matt Bauman at the JuliaCon 2024</li><li><a href="https://julialang.org/learning/tutorials/">Julia Tutorials &amp; Workshops</a>, a collection of training materials from the official Julia website.</li><li><a href="https://modernjuliaworkflows.org/">Modern Julia Workflows</a>, an introduction to how to write and share your Julia code effectively with tips &amp; tricks.</li></ul><h2 id="getting_started_julia"><a class="docs-heading-anchor" href="#getting_started_julia">Getting Started with Neuroblox</a><a id="getting_started_julia-1"></a><a class="docs-heading-anchor-permalink" href="#getting_started_julia" title="Permalink"></a></h2><p>This example will introduce you to simulating brain dynamics using Neuroblox. We will create a simple oscillating circuit using two Wilson-Cowan neural mass models [1]. The Wilson-Cowan model is one of the most influential models in computational neuroscience [2], describing the dynamics of interactions between populations of excitatory and inhibitory neurons.</p><h3 id="The-Wilson-Cowan-Model"><a class="docs-heading-anchor" href="#The-Wilson-Cowan-Model">The Wilson-Cowan Model</a><a id="The-Wilson-Cowan-Model-1"></a><a class="docs-heading-anchor-permalink" href="#The-Wilson-Cowan-Model" title="Permalink"></a></h3><p>Each Wilson-Cowan neural mass is described by the following equations:</p><p class="math-container">\[\begin{align}
\nonumber
\frac{dE}{dt} &amp;= \frac{-E}{\tau_E} + S_E(c_{EE}E - c_{IE}I + \eta\textstyle\sum{jcn})\\[10pt]
\nonumber
\frac{dI}{dt} &amp;= \frac{-I}{\tau_I} + S_I\left(c_{EI}E - c_{II}I\right)
\end{align}\]</p><p>where <span>$E$</span> and <span>$I$</span> denote the activity levels of the excitatory and inhibitory populations, respectively. The terms <span>$\frac{dE}{dt}$</span> and <span>$\frac{dI}{dt}$</span> describe the rate of change of these activity levels over time. The parameters <span>$\tau_E$</span> and <span>$\tau_I$</span> are time constants analogous to membrane time constants in single neuron models, determining how quickly the excitatory and inhibitory populations respond to changes. The coefficients <span>$c_{EE}$</span> and <span>$c_{II}$</span> represent self-interaction (or feedback) within excitatory and inhibitory populations, while <span>$c_{IE}$</span> and <span>$c_{EI}$</span> represent the cross-interactions between the two populations. The term <span>$\eta\sum{jcn}$</span> represents external input to the excitatory population from other brain regions or external stimuli, with <span>$\eta$</span> acting as a scaling factor. While <span>$S_E$</span> and <span>$S_I$</span> are sigmoid functions that represent the responses of neuronal populations to input stimuli, defined as:</p><p class="math-container">\[S_k(x) = \frac{1}{1 + exp(-a_kx - \theta_k)}\]</p><p>where <span>$a_k$</span> and <span>$\theta_k$</span> determine the steepness and threshold of the response, respectively.</p><h3 id="Building-the-Circuit"><a class="docs-heading-anchor" href="#Building-the-Circuit">Building the Circuit</a><a id="Building-the-Circuit-1"></a><a class="docs-heading-anchor-permalink" href="#Building-the-Circuit" title="Permalink"></a></h3><p>Let&#39;s create an oscillating circuit by connecting two Wilson-Cowan neural masses:</p><pre><code class="language-julia hljs">using Neuroblox
using OrdinaryDiffEq
using CairoMakie

# Create two Wilson-Cowan blox
@named WC1 = WilsonCowan()
@named WC2 = WilsonCowan()

# Create a graph to represent our circuit
g = MetaDiGraph()
add_blox!.(Ref(g), [WC1, WC2])

# Define the connectivity between the neural masses
add_edge!(g, WC1 =&gt; WC1; weight = -1) ## recurrent connection from WC1 to itself
add_edge!(g, WC1 =&gt; WC2; weight = 7) ## connection from WC1 to WC2
add_edge!(g, WC2 =&gt; WC1; weight = 4) ## connection from WC2 to WC1
add_edge!(g, WC2 =&gt; WC2; weight = -1) ## recurrent connection from WC2 to itself</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>Here, we&#39;ve created two Wilson-Cowan blox and connected them as nodes in a directed graph. Each blox connects to itself and to the other blox.</p><p>By default, the output of each Wilson-Cowan blox is its excitatory activity (E). The negative self-connections (-1) provide inhibitory feedback, while the positive inter-blox connections (6) provide strong excitatory coupling. This setup creates an oscillatory dynamic between the two Wilson-Cowan units.</p><h3 id="Creating-the-Model"><a class="docs-heading-anchor" href="#Creating-the-Model">Creating the Model</a><a id="Creating-the-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-the-Model" title="Permalink"></a></h3><p>Now, let&#39;s build the complete model:</p><pre><code class="language-julia hljs">@named sys = system_from_graph(g)</code></pre><p class="math-container">\[ \begin{align}
\frac{\mathrm{d} \mathtt{WC1.E}\left( t \right)}{\mathrm{d}t} &amp;= \frac{ - \mathtt{WC1.E}\left( t \right)}{\mathtt{WC1.\tau\_E}} + \frac{1}{1 + e^{ - \mathtt{WC1.a\_E} \left(  - \mathtt{WC1.\theta\_E} + \mathtt{WC1.c\_EE} \mathtt{WC1.E}\left( t \right) - \mathtt{WC1.c\_IE} \mathtt{WC1.I}\left( t \right) + \mathtt{WC1.\eta} \mathtt{WC1.jcn}\left( t \right) \right)}} \\
\frac{\mathrm{d} \mathtt{WC1.I}\left( t \right)}{\mathrm{d}t} &amp;= \frac{ - \mathtt{WC1.I}\left( t \right)}{\mathtt{WC1.\tau\_I}} + \frac{1}{1 + e^{\mathtt{WC1.a\_I} \left( \mathtt{WC1.\theta\_I} - \mathtt{WC1.c\_EI} \mathtt{WC1.E}\left( t \right) + \mathtt{WC1.c\_II} \mathtt{WC1.I}\left( t \right) \right)}} \\
\frac{\mathrm{d} \mathtt{WC2.E}\left( t \right)}{\mathrm{d}t} &amp;= \frac{1}{1 + e^{\mathtt{WC2.a\_E} \left( \mathtt{WC2.\theta\_E} - \mathtt{WC2.c\_EE} \mathtt{WC2.E}\left( t \right) + \mathtt{WC2.c\_IE} \mathtt{WC2.I}\left( t \right) - \mathtt{WC2.\eta} \mathtt{WC2.jcn}\left( t \right) \right)}} + \frac{ - \mathtt{WC2.E}\left( t \right)}{\mathtt{WC2.\tau\_E}} \\
\frac{\mathrm{d} \mathtt{WC2.I}\left( t \right)}{\mathrm{d}t} &amp;= \frac{ - \mathtt{WC2.I}\left( t \right)}{\mathtt{WC2.\tau\_I}} + \frac{1}{1 + e^{\mathtt{WC2.a\_I} \left( \mathtt{WC2.\theta\_I} - \mathtt{WC2.c\_EI} \mathtt{WC2.E}\left( t \right) + \mathtt{WC2.c\_II} \mathtt{WC2.I}\left( t \right) \right)}}
\end{align}
 \]</p><p>This creates a differential equations system from our graph representation using ModelingToolkit and symbolically simplifies it for efficient computation.</p><h3 id="Simulating-the-Model"><a class="docs-heading-anchor" href="#Simulating-the-Model">Simulating the Model</a><a id="Simulating-the-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Simulating-the-Model" title="Permalink"></a></h3><p>We are now ready to simulate our model. The following code creates and solves an <code>ODEProblem</code> for our system, simulating 100 time units of activity. In Neuroblox, the default time unit is milliseconds. We use <code>Rodas4</code>, a solver efficient for stiff problems. The solution is saved every 0.1 ms, allowing us to observe the detailed evolution of the system&#39;s behavior.</p><pre><code class="language-julia hljs">prob = ODEProblem(sys, [], (0.0, 100), [])
sol = solve(prob, Rodas4(), saveat=0.1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">retcode: Success
Interpolation: 1st order linear
t: 1001-element Vector{Float64}:
   0.0
   0.1
   0.2
   0.3
   0.4
   0.5
   0.6
   0.7
   0.8
   0.9
   ⋮
  99.2
  99.3
  99.4
  99.5
  99.6
  99.7
  99.8
  99.9
 100.0
u: 1001-element Vector{Vector{Float64}}:
 [1.0, 1.0, 1.0, 1.0]
 [0.9493257635566694, 0.999997227549365, 0.9968352574060094, 0.9999983614072379]
 [0.8972980729622233, 0.9999897131895668, 0.9922642579108254, 0.9999967482029593]
 [0.8440391811260224, 0.9999681723259077, 0.9854388758920339, 0.999995076307697]
 [0.7898349351204718, 0.9999082303969463, 0.9750726533220467, 0.9999931987811771]
 [0.7351468545581609, 0.9997317040527284, 0.9591819783728336, 0.9999908111737857]
 [0.6805567621145077, 0.999147043910833, 0.9353051118230763, 0.9999870244686659]
 [0.6267161119059087, 0.9976995169055252, 0.9005839696994439, 0.9999806570867977]
 [0.5745445542719343, 0.9931773367150695, 0.8545965249945568, 0.9999637048536514]
 [0.5248014014381632, 0.9822251893286915, 0.7986897069764031, 0.9999118449047143]
 ⋮
 [0.28279518476405013, 0.2324195285296703, 0.31706361763697516, 0.3471838455135596]
 [0.278177945925614, 0.22328371239125838, 0.31279792715965477, 0.3332261043931271]
 [0.27448088654236413, 0.21430539986619204, 0.309809926269029, 0.31991542196228917]
 [0.27181878342800286, 0.20567351013756544, 0.30820728524811536, 0.30756838705022393]
 [0.27027557823071185, 0.19759133790123104, 0.30805675975403085, 0.29650516666840665]
 [0.2698099045024096, 0.19023716779344882, 0.30928326784170596, 0.28692620357578835]
 [0.27050297529084016, 0.1837315093688662, 0.31192346211382116, 0.2790718675463416]
 [0.27238765332993337, 0.17825467421576802, 0.3159222625765795, 0.27326609552613756]
 [0.27549680135361837, 0.17398697392244247, 0.3212245892361824, 0.26983282446125106]</code></pre><h3 id="Plotting-simulation-results"><a class="docs-heading-anchor" href="#Plotting-simulation-results">Plotting simulation results</a><a id="Plotting-simulation-results-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting-simulation-results" title="Permalink"></a></h3><p>Finally, let us plot the <code>E</code> and <code>I</code> states of the first component, <code>WC1</code>. To do this we will use the <code>state_timeseries</code> function that extracts the timeseries of a blox state from the solution object.</p><pre><code class="language-julia hljs">E1 = state_timeseries(WC1, sol, &quot;E&quot;)
I1 = state_timeseries(WC1, sol, &quot;I&quot;)

fig = Figure()
ax = Axis(fig[1,1]; xlabel = &quot;time (ms)&quot;)
lines!(ax, sol.t, E1, label = &quot;E&quot;)
lines!(ax, sol.t, I1, label = &quot;I&quot;)
Legend(fig[1,2], ax)
fig</code></pre><img src="8b9d6990.png" alt="Example block output"/><p><a href="https://www.sciencedirect.com/science/article/pii/S0006349572860685">[1] Wilson, H. R., &amp; Cowan, J. D. (1972). Excitatory and inhibitory interactions in localized populations of model neurons. Biophysical journal, 12(1), 1-24.</a></p><p><a href="https://link.springer.com/article/10.1007/s00422-009-0328-3">[2] Destexhe, A., &amp; Sejnowski, T. J. (2009). The Wilson–Cowan model, 36 years later. Biological cybernetics, 101(1), 1-2.</a></p><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../install/">« How to install</a><a class="docs-footer-nextpage" href="../tutorials/resting_state/">Resting state simulation using neural mass models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 16 December 2024 18:04">Monday 16 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
